!function(){function e(){return new Swiper(".aircleaner__container",{freeMode:!0,slidesPerView:"auto"})}var t={},n=function(){return window.matchMedia("(max-width: 1023px)").matches},s=!n();n()&&(t=e()),window.addEventListener("resize",(function(){s&&n()&&(t=e(),s=!1),s||n()||(t.destroy(!0,!0),s=!0)}))}(),gsap.timeline().from(".page-header__title div span",1.8,{y:110,ease:"power4.out",delay:1,skewY:7,stagger:{amount:.3}}).to(".page-header__overlay-item",1.6,{height:0,ease:"expo.inOut",stagger:.4}).to(".page-header__overlay",0,{display:"none"}).to(".banner__overlay-item",1.6,{width:0,ease:"expo.inOut",delay:-.8,stagger:{amount:.4}}).to(".banner__overlay",0,{display:"none"}).from(".banner__item-image-box",1.6,{scale:1.4,ease:"expo.inOut",delay:-2,stagger:{amount:.4}}),function(){var e={};function t(){return new Swiper(".banner__container",{freeMode:!0,slidesPerView:"auto",navigation:{nextEl:".banner__next",prevEl:".banner__prev"}})}function n(){return new Swiper(".banner__container",{navigation:{nextEl:".banner__next",prevEl:".banner__prev"}})}var s=function(){return window.matchMedia("(min-width: 1024px)").matches},i=function(){return window.matchMedia("(min-width: 768px)").matches&&window.matchMedia("(max-width: 1023px)").matches},o=function(){return window.matchMedia("(max-width: 767px)").matches},r=!i(),c=!o(),a=!s(),l=s();i()&&(e=t()),o()&&(e=n()),window.addEventListener("resize",(function(){a&&s()&&(a=!1),a||s()||(a=!0),r&&i()&&(r=!1,l?l=!1:e.destroy(!0,!0),e=t()),r||i()||(r=!0,e.destroy(!0,!0)),c&&o()&&(c=!1,e=n()),c||o()||(c=!0)}))}(),function(){var e=document.querySelector(".page-header__nav-button"),t=document.querySelector(".mobile-nav__underlayer"),n=document.querySelector(".mobile-nav"),s=document.querySelector("body");e.addEventListener("click",(function(){n.classList.add("js--show"),s.classList.add("popup")})),t.addEventListener("click",(function(){n.classList.remove("js--show"),s.classList.remove("popup")}))}(),function(){var e=document.querySelector(".main-nav__item-name--products"),t=document.querySelector(".main-nav__item-name--programs"),n=document.querySelector(".main-nav__subnav-list--products"),s=document.querySelector(".main-nav__subnav-list--programs");e.addEventListener("click",(function(){var s="visible"===window.getComputedStyle(n).visibility;s||e.classList.contains("js--show")||(e.classList.add("js--show"),t.classList.contains("js--show")&&t.classList.remove("js--show")),s&&e.classList.contains("js--show")&&e.classList.remove("js--show")})),t.addEventListener("click",(function(){var n="visible"===window.getComputedStyle(s).visibility;n||t.classList.contains("js--show")||(t.classList.add("js--show"),e.classList.contains("js--show")&&e.classList.remove("js--show")),n&&t.classList.contains("js--show")&&t.classList.remove("js--show")})),window.addEventListener("resize",(function(){e.classList.contains("js--show")&&e.classList.remove("js--show"),t.classList.contains("js--show")&&t.classList.remove("js--show")})),document.addEventListener("click",(function(n){var s=n.target;s.classList.contains("main-nav__item-name")||s.classList.contains("main-nav__subnav-list")||s.classList.contains("main-nav__subnav-item")||s.classList.contains("main-nav__subnav-link")||(e.classList.contains("js--show")&&e.classList.remove("js--show"),t.classList.contains("js--show")&&t.classList.remove("js--show"))}))}(),function(){let e=.01*window.innerHeight;var t,n,s;document.documentElement.style.setProperty("--vh",e+"px"),window.addEventListener("resize",(t=function(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")},n=1e3,s=0,function(){var e=arguments;s>0&&clearTimeout(s);var i=function(){t.apply(null,e)};s=setTimeout(i,n)}))}(),function(){var e=document.querySelector(".mobile-nav"),t=document.querySelector("body");let n=document.querySelector(".js-scroll-split"),s=document.querySelector(".js-scroll-mult"),i=document.querySelector(".js-scroll-aircleaner"),o=document.querySelector(".js-scroll-my-comfort"),r=document.querySelector(".js-scroll-climat-online"),c=document.querySelector(".js-scroll-mobile-control"),a=document.querySelector(".js-scroll-split-mobile"),l=document.querySelector(".js-scroll-mult-mobile"),d=document.querySelector(".js-scroll-aircleaner-mobile"),u=document.querySelector(".js-scroll-my-comfort-mobile"),m=document.querySelector(".js-scroll-climat-online-mobile"),v=document.querySelector(".js-scroll-mobile-control-mobile"),w=document.querySelector(".js-scroll-split-banner"),h=document.querySelector(".js-scroll-mult-banner"),p=document.querySelector(".js-scroll-aircleaner-banner"),y=document.querySelector(".js-scroll-program-banner"),L=function(){event.preventDefault();let e=event.currentTarget.getAttribute("href"),t=e.substring(1,e.length);document.getElementById(t).scrollIntoView({block:"start",behavior:"smooth"})},_=function(){event.preventDefault(),e.classList.remove("js--show"),t.classList.remove("popup");let n=event.currentTarget.getAttribute("href"),s=n.substring(1,n.length),i=document.getElementById(s);setTimeout((function(){i.scrollIntoView({block:"start",behavior:"smooth"})}),300)};n.addEventListener("click",L),s.addEventListener("click",L),i.addEventListener("click",L),o.addEventListener("click",L),r.addEventListener("click",L),c.addEventListener("click",L),a.addEventListener("click",_),l.addEventListener("click",_),d.addEventListener("click",_),u.addEventListener("click",_),m.addEventListener("click",_),v.addEventListener("click",_),w.addEventListener("click",L),h.addEventListener("click",L),p.addEventListener("click",L),y.addEventListener("click",L)}(),new Swiper(".split-slider__container",{navigation:{nextEl:".split-slider__next",prevEl:".split-slider__prev"},freeMode:!0,slidesPerView:"auto"});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFpcmNsZWFuZXItc2xpZGVyLmpzIiwiYW5pbWF0aW9uLmpzIiwiYmFubmVyLmpzIiwibW9iaWxlLW5hdi5qcyIsIm5hdmlnYXRpb24uanMiLCJwYWdlLWhlYWRlci5qcyIsInNjcm9sbC5qcyIsInNwbGl0LXNsaWRlci5qcyJdLCJuYW1lcyI6WyJpbml0UHJldmlld1N3aXBlciIsIlN3aXBlciIsImZyZWVNb2RlIiwic2xpZGVzUGVyVmlldyIsInNsaWRlciIsImlzVGFibGV0Iiwid2luZG93IiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJpc091dE9mVGFibGV0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImRlc3Ryb3kiLCJnc2FwIiwidGltZWxpbmUiLCJmcm9tIiwieSIsImVhc2UiLCJkZWxheSIsInNrZXdZIiwic3RhZ2dlciIsImFtb3VudCIsInRvIiwiaGVpZ2h0IiwiZGlzcGxheSIsIndpZHRoIiwic2NhbGUiLCJpbml0RnJlZVN3aXBlciIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJpbml0U2luZ2xlU3dpcGVyIiwiaXNEZXNrdG9wIiwiaXNNb2JpbGUiLCJpc091dE9mTW9iaWxlIiwiaXNPdXRPZkRlc2t0b3AiLCJpc1RvVGFibGV0RnJvbURlc2t0b3AiLCJuYXZCdXR0b24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ1bmRlcmxheWVyIiwibmF2IiwiYm9keSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIm5hdkl0ZW1Qcm9kdWN0cyIsIm5hdkl0ZW1Qcm9ncmFtcyIsInByb2R1Y3RzIiwicHJvZ3JhbXMiLCJpc05hdlZpc2libGUiLCJnZXRDb21wdXRlZFN0eWxlIiwidmlzaWJpbGl0eSIsImNvbnRhaW5zIiwiZXZ0IiwidGFyZ2V0IiwidmgiLCJpbm5lckhlaWdodCIsIm9uRGVsYXkiLCJ0aW1lb3V0SWQiLCJkb2N1bWVudEVsZW1lbnQiLCJzdHlsZSIsInNldFByb3BlcnR5IiwicGFyYW1zIiwiYXJndW1lbnRzIiwiY2xlYXJUaW1lb3V0Iiwib25UaW1lb3V0IiwiYXBwbHkiLCJzZXRUaW1lb3V0Iiwic2Nyb2xsU3BsaXRMaW5rIiwic2Nyb2xsTXVsdExpbmsiLCJzY3JvbGxBaXJjbGVhbmVyTGluayIsInNjcm9sbE15Q29tZm9ydExpbmsiLCJzY3JvbGxDbGltYXRPbmxpbmVMaW5rIiwic2Nyb2xsTW9iaWxlQ29udHJvbExpbmsiLCJzY3JvbGxTcGxpdExpbmtNb2JpbGUiLCJzY3JvbGxNdWx0TGlua01vYmlsZSIsInNjcm9sbEFpcmNsZWFuZXJMaW5rTW9iaWxlIiwic2Nyb2xsTXlDb21mb3J0TGlua01vYmlsZSIsInNjcm9sbENsaW1hdE9ubGluZUxpbmtNb2JpbGUiLCJzY3JvbGxNb2JpbGVDb250cm9sTGlua01vYmlsZSIsInNjcm9sbFNwbGl0TGlua0Jhbm5lciIsInNjcm9sbE11bHRMaW5rQmFubmVyIiwic2Nyb2xsQWlyY2xlYW5lckxpbmtCYW5uZXIiLCJzY3JvbGxQcm9ncmFtTGlua0Jhbm5lciIsImhhbmRsZUFuY2hvckNsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImxpbmtUYXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwiaWQiLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJnZXRFbGVtZW50QnlJZCIsInNjcm9sbEludG9WaWV3IiwiYmxvY2siLCJiZWhhdmlvciIsImhhbmRsZUFuY2hvckNsaWNrTW9iaWxlIiwiYWltIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLFNBQUFBLElBQ0EsT0FBQSxJQUFBQyxPQUFBLHlCQUFBLENBQ0FDLFVBQUEsRUFDQUMsY0FBQSxTQUlBLElBQUFDLEVBQUEsR0FFQUMsRUFBQSxXQUNBLE9BQUFDLE9BQUFDLFdBQUEsdUJBQUFDLFNBR0FDLEdBQUFKLElBY0FBLE1BQ0FELEVBQUFKLEtBR0FNLE9BQUFJLGlCQUFBLFVBaEJBLFdBQ0FELEdBQUFKLE1BQ0FELEVBQUFKLElBQ0FTLEdBQUEsR0FHQUEsR0FBQUosTUFDQUQsRUFBQU8sU0FBQSxH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Q0FYLEVBQUEvRCxpQkFBQSxRQUFBMEUsR0FFQVYsRUFBQWhFLGlCQUFBLFFBQUF1RixHQUNBdEIsRUFBQWpFLGlCQUFBLFFBQUF1RixHQUNBckIsRUFBQWxFLGlCQUFBLFFBQUF1RixHQUNBcEIsRUFBQW5FLGlCQUFBLFFBQUF1RixHQUNBbkIsRUFBQXBFLGlCQUFBLFFBQUF1RixHQUNBbEIsRUFBQXJFLGlCQUFBLFFBQUF1RixHQUVBakIsRUFBQXRFLGlCQUFBLFFBQUEwRSxHQUNBSCxFQUFBdkUsaUJBQUEsUUFBQTBFLEdBQ0FGLEVBQUF4RSxpQkFBQSxRQUFBMEUsR0FDQUQsRUFBQXpFLGlCQUFBLFFBQUEwRSxHQWhFQSxHQ0VBLElBQUFuRixPQVVBLDJCQVZBLENBQ0EwQixXQUFBLENBQ0FDLE9BQUEsc0JBQ0FDLE9BQUEsdUJBRUEzQixVQUFBLEVBQ0FDLGNBQUEiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGluaXRQcmV2aWV3U3dpcGVyKCkge1xuICAgIHJldHVybiBuZXcgU3dpcGVyKCcuYWlyY2xlYW5lcl9fY29udGFpbmVyJywge1xuICAgICAgZnJlZU1vZGU6IHRydWUsXG4gICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgfSk7XG4gIH1cblxuICB2YXIgc2xpZGVyID0ge307XG5cbiAgdmFyIGlzVGFibGV0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDEwMjNweClcIikubWF0Y2hlcztcbiAgfTtcblxuICB2YXIgaXNPdXRPZlRhYmxldCA9ICFpc1RhYmxldCgpO1xuXG4gIHZhciBvblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaXNPdXRPZlRhYmxldCAmJiBpc1RhYmxldCgpKSB7XG4gICAgICBzbGlkZXIgPSBpbml0UHJldmlld1N3aXBlcigpO1xuICAgICAgaXNPdXRPZlRhYmxldCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghaXNPdXRPZlRhYmxldCAmJiAhaXNUYWJsZXQoKSkge1xuICAgICAgc2xpZGVyLmRlc3Ryb3kodHJ1ZSwgdHJ1ZSk7XG4gICAgICBpc091dE9mVGFibGV0ID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKGlzVGFibGV0KCkpIHtcbiAgICBzbGlkZXIgPSBpbml0UHJldmlld1N3aXBlcigpO1xuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uUmVzaXplKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICB2YXIgdGwgPSBnc2FwLnRpbWVsaW5lKCk7XG5cbiAgdGwuZnJvbShcIi5wYWdlLWhlYWRlcl9fdGl0bGUgZGl2IHNwYW5cIiwgMS44LCB7XG4gICAgeTogMTEwLFxuICAgIGVhc2U6IFwicG93ZXI0Lm91dFwiLFxuICAgIGRlbGF5OiAxLFxuICAgIHNrZXdZOiA3LFxuICAgIHN0YWdnZXI6IHtcbiAgICAgIGFtb3VudDogMC4zXG4gICAgfVxuICB9KVxuICAgIC50byhcIi5wYWdlLWhlYWRlcl9fb3ZlcmxheS1pdGVtXCIsIDEuNiwge1xuICAgICAgaGVpZ2h0OiAwLFxuICAgICAgZWFzZTogXCJleHBvLmluT3V0XCIsXG4gICAgICBzdGFnZ2VyOiAwLjRcbiAgICB9KVxuICAgIC50byhcIi5wYWdlLWhlYWRlcl9fb3ZlcmxheVwiLCAwLCB7XG4gICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgIH0pXG4gICAgLnRvKFwiLmJhbm5lcl9fb3ZlcmxheS1pdGVtXCIsIDEuNiwge1xuICAgICAgd2lkdGg6IDAsXG4gICAgICBlYXNlOiBcImV4cG8uaW5PdXRcIixcbiAgICAgIGRlbGF5OiAtMC44LFxuICAgICAgc3RhZ2dlcjoge1xuICAgICAgICBhbW91bnQ6IDAuNFxuICAgICAgfVxuICAgIH0pXG4gICAgLnRvKFwiLmJhbm5lcl9fb3ZlcmxheVwiLCAwLCB7XG4gICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgIH0pXG4gICAgLmZyb20oXCIuYmFubmVyX19pdGVtLWltYWdlLWJveFwiLCAxLjYsIHtcbiAgICAgIHNjYWxlOiAxLjQsXG4gICAgICBlYXNlOiBcImV4cG8uaW5PdXRcIixcbiAgICAgIGRlbGF5OiAtMixcbiAgICAgIHN0YWdnZXI6IHtcbiAgICAgICAgYW1vdW50OiAwLjRcbiAgICAgIH1cbiAgICB9KTtcblxufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gIHZhciBzbGlkZXIgPSB7fTtcblxuICBmdW5jdGlvbiBpbml0RnJlZVN3aXBlcigpIHtcbiAgICByZXR1cm4gbmV3IFN3aXBlcignLmJhbm5lcl9fY29udGFpbmVyJywge1xuICAgICAgZnJlZU1vZGU6IHRydWUsXG4gICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgIG5leHRFbDogJy5iYW5uZXJfX25leHQnLFxuICAgICAgICBwcmV2RWw6ICcuYmFubmVyX19wcmV2JyxcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRTaW5nbGVTd2lwZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBTd2lwZXIoJy5iYW5uZXJfX2NvbnRhaW5lcicsIHtcbiAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgbmV4dEVsOiAnLmJhbm5lcl9fbmV4dCcsXG4gICAgICAgIHByZXZFbDogJy5iYW5uZXJfX3ByZXYnLFxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIGlzRGVza3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiAxMDI0cHgpXCIpLm1hdGNoZXM7XG4gIH07XG5cbiAgdmFyIGlzVGFibGV0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6IDc2OHB4KVwiKS5tYXRjaGVzXG4gICAgICAmJiB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDEwMjNweClcIikubWF0Y2hlcztcbiAgfTtcblxuICB2YXIgaXNNb2JpbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNzY3cHgpXCIpLm1hdGNoZXM7XG4gIH07XG5cbiAgdmFyIGlzT3V0T2ZUYWJsZXQgPSAhaXNUYWJsZXQoKTtcbiAgdmFyIGlzT3V0T2ZNb2JpbGUgPSAhaXNNb2JpbGUoKTtcbiAgdmFyIGlzT3V0T2ZEZXNrdG9wID0gIWlzRGVza3RvcCgpO1xuICB2YXIgaXNUb1RhYmxldEZyb21EZXNrdG9wID0gaXNEZXNrdG9wKCk7XG5cbiAgLy92YXIgc2xpZGVyID0gaXNUYWJsZXQoKVxuICAgIC8vID8gaW5pdEZyZWVTd2lwZXIoKVxuICAgIC8vIDogaW5pdFNpbmdsZVN3aXBlcigpO1xuXG5cbiAgdmFyIG9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChpc091dE9mRGVza3RvcCAmJiBpc0Rlc2t0b3AoKSkge1xuICAgICAgaXNPdXRPZkRlc2t0b3AgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIWlzT3V0T2ZEZXNrdG9wICYmICFpc0Rlc2t0b3AoKSkge1xuICAgICAgaXNPdXRPZkRlc2t0b3AgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChpc091dE9mVGFibGV0ICYmIGlzVGFibGV0KCkpIHtcbiAgICAgIC8vc2xpZGVyLmRlc3Ryb3kodHJ1ZSwgdHJ1ZSk7XG4gICAgICAvL3NsaWRlciA9IGluaXRGcmVlU3dpcGVyKCk7XG4gICAgICBpc091dE9mVGFibGV0ID0gZmFsc2U7XG4gICAgICBpZiAoIWlzVG9UYWJsZXRGcm9tRGVza3RvcCkge1xuICAgICAgICBzbGlkZXIuZGVzdHJveSh0cnVlLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlzVG9UYWJsZXRGcm9tRGVza3RvcCA9IGZhbHNlO1xuICAgICAgfVxuXG5cbiAgICAgIC8vc2xpZGVyLmRlc3Ryb3kodHJ1ZSwgdHJ1ZSk7XG4gICAgICBzbGlkZXIgPSBpbml0RnJlZVN3aXBlcigpO1xuICAgIH1cblxuICAgIGlmICghaXNPdXRPZlRhYmxldCAmJiAhaXNUYWJsZXQoKSkge1xuICAgICAgLy9zbGlkZXIuZGVzdHJveSh0cnVlLCB0cnVlKTtcbiAgICAgIC8vc2xpZGVyID0gaW5pdFNpbmdsZVN3aXBlcigpO1xuICAgICAgaXNPdXRPZlRhYmxldCA9IHRydWU7XG4gICAgICBzbGlkZXIuZGVzdHJveSh0cnVlLCB0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNPdXRPZk1vYmlsZSAmJiBpc01vYmlsZSgpKSB7XG4gICAgICAvL3NsaWRlci5kZXN0cm95KHRydWUsIHRydWUpO1xuICAgICAgLy9zbGlkZXIgPSBpbml0RnJlZVN3aXBlcigpO1xuICAgICAgaXNPdXRPZk1vYmlsZSA9IGZhbHNlO1xuICAgICAgc2xpZGVyID0gaW5pdFNpbmdsZVN3aXBlcigpO1xuICAgIH1cblxuICAgIGlmICghaXNPdXRPZk1vYmlsZSAmJiAhaXNNb2JpbGUoKSkge1xuICAgICAgLy9zbGlkZXIuZGVzdHJveSh0cnVlLCB0cnVlKTtcbiAgICAgIC8vc2xpZGVyID0gaW5pdFNpbmdsZVN3aXBlcigpO1xuICAgICAgaXNPdXRPZk1vYmlsZSA9IHRydWU7XG4gICAgICAvL3NsaWRlci5kZXN0cm95KHRydWUsIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc1RhYmxldCgpKSB7XG4gICAgc2xpZGVyID0gaW5pdEZyZWVTd2lwZXIoKTtcbiAgfVxuXG4gIGlmIChpc01vYmlsZSgpKSB7XG4gICAgc2xpZGVyID0gaW5pdFNpbmdsZVN3aXBlcigpO1xuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uUmVzaXplKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICB2YXIgbmF2QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2UtaGVhZGVyX19uYXYtYnV0dG9uJyk7XG4gIHZhciB1bmRlcmxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1uYXZfX3VuZGVybGF5ZXInKTtcbiAgdmFyIG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGUtbmF2Jyk7XG4gIHZhciBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuXG4gIHZhciBzaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIG5hdi5jbGFzc0xpc3QuYWRkKCdqcy0tc2hvdycpO1xuICAgIGJvZHkuY2xhc3NMaXN0LmFkZCgncG9wdXAnKTtcbiAgfTtcblxuICB2YXIgaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBuYXYuY2xhc3NMaXN0LnJlbW92ZSgnanMtLXNob3cnKTtcbiAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwJyk7XG4gIH1cblxuICB2YXIgb25CdXR0b25DbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICBzaG93KCk7XG4gIH1cblxuICB2YXIgb25VbmRlcmxheWVyQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgaGlkZSgpO1xuICB9XG5cbiAgbmF2QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25CdXR0b25DbGljayk7XG4gIHVuZGVybGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvblVuZGVybGF5ZXJDbGljayk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgdmFyIG5hdkl0ZW1Qcm9kdWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLW5hdl9faXRlbS1uYW1lLS1wcm9kdWN0cycpO1xuICB2YXIgbmF2SXRlbVByb2dyYW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4tbmF2X19pdGVtLW5hbWUtLXByb2dyYW1zJyk7XG4gIHZhciBwcm9kdWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLW5hdl9fc3VibmF2LWxpc3QtLXByb2R1Y3RzJyk7XG4gIHZhciBwcm9ncmFtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLW5hdl9fc3VibmF2LWxpc3QtLXByb2dyYW1zJyk7XG5cbiAgdmFyIG9uUHJvZHVjdHNDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaXNOYXZWaXNpYmxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUocHJvZHVjdHMpLnZpc2liaWxpdHkgPT09ICd2aXNpYmxlJztcblxuICAgIGlmICghaXNOYXZWaXNpYmxlICYmICFuYXZJdGVtUHJvZHVjdHMuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy0tc2hvdycpKSB7XG4gICAgICBuYXZJdGVtUHJvZHVjdHMuY2xhc3NMaXN0LmFkZCgnanMtLXNob3cnKTtcblxuICAgICAgaWYgKG5hdkl0ZW1Qcm9ncmFtcy5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLS1zaG93JykpIHtcbiAgICAgICAgbmF2SXRlbVByb2dyYW1zLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLS1zaG93Jyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzTmF2VmlzaWJsZSAmJiBuYXZJdGVtUHJvZHVjdHMuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy0tc2hvdycpKSB7XG4gICAgICBuYXZJdGVtUHJvZHVjdHMuY2xhc3NMaXN0LnJlbW92ZSgnanMtLXNob3cnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgb25Qcm9ncmFtc0NsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpc05hdlZpc2libGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwcm9ncmFtcykudmlzaWJpbGl0eSA9PT0gJ3Zpc2libGUnO1xuXG4gICAgaWYgKCFpc05hdlZpc2libGUgJiYgIW5hdkl0ZW1Qcm9ncmFtcy5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLS1zaG93JykpIHtcbiAgICAgIG5hdkl0ZW1Qcm9ncmFtcy5jbGFzc0xpc3QuYWRkKCdqcy0tc2hvdycpO1xuXG4gICAgICBpZiAobmF2SXRlbVByb2R1Y3RzLmNsYXNzTGlzdC5jb250YWlucygnanMtLXNob3cnKSkge1xuICAgICAgICBuYXZJdGVtUHJvZHVjdHMuY2xhc3NMaXN0LnJlbW92ZSgnanMtLXNob3cnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNOYXZWaXNpYmxlICYmIG5hdkl0ZW1Qcm9ncmFtcy5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLS1zaG93JykpIHtcbiAgICAgIG5hdkl0ZW1Qcm9ncmFtcy5jbGFzc0xpc3QucmVtb3ZlKCdqcy0tc2hvdycpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBvblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAobmF2SXRlbVByb2R1Y3RzLmNsYXNzTGlzdC5jb250YWlucygnanMtLXNob3cnKSkge1xuICAgICAgbmF2SXRlbVByb2R1Y3RzLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLS1zaG93Jyk7XG4gICAgfVxuXG4gICAgaWYgKG5hdkl0ZW1Qcm9ncmFtcy5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLS1zaG93JykpIHtcbiAgICAgIG5hdkl0ZW1Qcm9ncmFtcy5jbGFzc0xpc3QucmVtb3ZlKCdqcy0tc2hvdycpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBvbk91dHNpZGVDbGljayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZXZ0LnRhcmdldDtcblxuICAgIGlmIChcbiAgICAgICF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYWluLW5hdl9faXRlbS1uYW1lJylcbiAgICAgICYmICF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYWluLW5hdl9fc3VibmF2LWxpc3QnKVxuICAgICAgJiYgIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21haW4tbmF2X19zdWJuYXYtaXRlbScpXG4gICAgICAmJiAhdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbWFpbi1uYXZfX3N1Ym5hdi1saW5rJylcbiAgICApIHtcbiAgICAgIGlmIChuYXZJdGVtUHJvZHVjdHMuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy0tc2hvdycpKSB7XG4gICAgICAgIG5hdkl0ZW1Qcm9kdWN0cy5jbGFzc0xpc3QucmVtb3ZlKCdqcy0tc2hvdycpO1xuICAgICAgfVxuXG4gICAgICBpZiAobmF2SXRlbVByb2dyYW1zLmNsYXNzTGlzdC5jb250YWlucygnanMtLXNob3cnKSkge1xuICAgICAgICBuYXZJdGVtUHJvZ3JhbXMuY2xhc3NMaXN0LnJlbW92ZSgnanMtLXNob3cnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBuYXZJdGVtUHJvZHVjdHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvblByb2R1Y3RzQ2xpY2spO1xuICBuYXZJdGVtUHJvZ3JhbXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvblByb2dyYW1zQ2xpY2spO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25SZXNpemUpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uT3V0c2lkZUNsaWNrKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICBsZXQgdmggPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjAxO1xuXG4gIHZhciBkZWJvdW5jZSA9IGZ1bmN0aW9uIChvbkRlbGF5LCBkZWxheSkge1xuICAgIHZhciB0aW1lb3V0SWQgPSAwO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzO1xuXG4gICAgICBpZiAodGltZW91dElkID4gMCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG9uVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb25EZWxheS5hcHBseShudWxsLCBwYXJhbXMpO1xuICAgICAgfTtcblxuICAgICAgdGltZW91dElkID0gc2V0VGltZW91dChvblRpbWVvdXQsIGRlbGF5KTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBvblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgdmggPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjAxO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS12aCcsIGAke3ZofXB4YCk7XG4gIH07XG5cbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXZoJywgYCR7dmh9cHhgKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGRlYm91bmNlKG9uUmVzaXplLCAxMDAwKSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgdmFyIG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGUtbmF2Jyk7XG4gIHZhciBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuXG4gIGxldCBzY3JvbGxTcGxpdExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLXNwbGl0YCk7XG4gIGxldCBzY3JvbGxNdWx0TGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qcy1zY3JvbGwtbXVsdGApO1xuICBsZXQgc2Nyb2xsQWlyY2xlYW5lckxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLWFpcmNsZWFuZXJgKTtcbiAgbGV0IHNjcm9sbE15Q29tZm9ydExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLW15LWNvbWZvcnRgKTtcbiAgbGV0IHNjcm9sbENsaW1hdE9ubGluZUxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLWNsaW1hdC1vbmxpbmVgKTtcbiAgbGV0IHNjcm9sbE1vYmlsZUNvbnRyb2xMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzLXNjcm9sbC1tb2JpbGUtY29udHJvbGApO1xuXG4gIGxldCBzY3JvbGxTcGxpdExpbmtNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLXNwbGl0LW1vYmlsZWApO1xuICBsZXQgc2Nyb2xsTXVsdExpbmtNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLW11bHQtbW9iaWxlYCk7XG4gIGxldCBzY3JvbGxBaXJjbGVhbmVyTGlua01vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qcy1zY3JvbGwtYWlyY2xlYW5lci1tb2JpbGVgKTtcbiAgbGV0IHNjcm9sbE15Q29tZm9ydExpbmtNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLW15LWNvbWZvcnQtbW9iaWxlYCk7XG4gIGxldCBzY3JvbGxDbGltYXRPbmxpbmVMaW5rTW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzLXNjcm9sbC1jbGltYXQtb25saW5lLW1vYmlsZWApO1xuICBsZXQgc2Nyb2xsTW9iaWxlQ29udHJvbExpbmtNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLW1vYmlsZS1jb250cm9sLW1vYmlsZWApO1xuXG4gIGxldCBzY3JvbGxTcGxpdExpbmtCYW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLXNwbGl0LWJhbm5lcmApO1xuICBsZXQgc2Nyb2xsTXVsdExpbmtCYW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLW11bHQtYmFubmVyYCk7XG4gIGxldCBzY3JvbGxBaXJjbGVhbmVyTGlua0Jhbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qcy1zY3JvbGwtYWlyY2xlYW5lci1iYW5uZXJgKTtcbiAgbGV0IHNjcm9sbFByb2dyYW1MaW5rQmFubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzLXNjcm9sbC1wcm9ncmFtLWJhbm5lcmApO1xuXG4gIGxldCBoYW5kbGVBbmNob3JDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGxldCBsaW5rVGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoYGhyZWZgKTtcbiAgICBsZXQgaWQgPSBsaW5rVGFyZ2V0LnN1YnN0cmluZygxLCBsaW5rVGFyZ2V0Lmxlbmd0aCk7XG4gICAgbGV0IGFpbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICBhaW0uc2Nyb2xsSW50b1ZpZXcoe2Jsb2NrOiBgc3RhcnRgLCBiZWhhdmlvcjogYHNtb290aGB9KTtcbiAgfTtcblxuICBsZXQgaGFuZGxlQW5jaG9yQ2xpY2tNb2JpbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIG5hdi5jbGFzc0xpc3QucmVtb3ZlKCdqcy0tc2hvdycpO1xuICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXAnKTtcblxuICAgIGxldCBsaW5rVGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoYGhyZWZgKTtcbiAgICBsZXQgaWQgPSBsaW5rVGFyZ2V0LnN1YnN0cmluZygxLCBsaW5rVGFyZ2V0Lmxlbmd0aCk7XG4gICAgbGV0IGFpbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAvL2FpbS5zY3JvbGxJbnRvVmlldyh7YmxvY2s6IGBzdGFydGAsIGJlaGF2aW9yOiBgc21vb3RoYH0pO1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBhaW0uc2Nyb2xsSW50b1ZpZXcoe2Jsb2NrOiBgc3RhcnRgLCBiZWhhdmlvcjogYHNtb290aGB9KVxuICAgIH0sIDMwMCk7XG4gIH07XG5cbiAgc2Nyb2xsU3BsaXRMaW5rLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgaGFuZGxlQW5jaG9yQ2xpY2spO1xuICBzY3JvbGxNdWx0TGluay5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGhhbmRsZUFuY2hvckNsaWNrKTtcbiAgc2Nyb2xsQWlyY2xlYW5lckxpbmsuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBoYW5kbGVBbmNob3JDbGljayk7XG4gIHNjcm9sbE15Q29tZm9ydExpbmsuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBoYW5kbGVBbmNob3JDbGljayk7XG4gIHNjcm9sbENsaW1hdE9ubGluZUxpbmsuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBoYW5kbGVBbmNob3JDbGljayk7XG4gIHNjcm9sbE1vYmlsZUNvbnRyb2xMaW5rLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgaGFuZGxlQW5jaG9yQ2xpY2spO1xuXG4gIHNjcm9sbFNwbGl0TGlua01vYmlsZS5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGhhbmRsZUFuY2hvckNsaWNrTW9iaWxlKTtcbiAgc2Nyb2xsTXVsdExpbmtNb2JpbGUuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBoYW5kbGVBbmNob3JDbGlja01vYmlsZSk7XG4gIHNjcm9sbEFpcmNsZWFuZXJMaW5rTW9iaWxlLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgaGFuZGxlQW5jaG9yQ2xpY2tNb2JpbGUpO1xuICBzY3JvbGxNeUNvbWZvcnRMaW5rTW9iaWxlLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgaGFuZGxlQW5jaG9yQ2xpY2tNb2JpbGUpO1xuICBzY3JvbGxDbGltYXRPbmxpbmVMaW5rTW9iaWxlLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgaGFuZGxlQW5jaG9yQ2xpY2tNb2JpbGUpO1xuICBzY3JvbGxNb2JpbGVDb250cm9sTGlua01vYmlsZS5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGhhbmRsZUFuY2hvckNsaWNrTW9iaWxlKTtcblxuICBzY3JvbGxTcGxpdExpbmtCYW5uZXIuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBoYW5kbGVBbmNob3JDbGljayk7XG4gIHNjcm9sbE11bHRMaW5rQmFubmVyLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgaGFuZGxlQW5jaG9yQ2xpY2spO1xuICBzY3JvbGxBaXJjbGVhbmVyTGlua0Jhbm5lci5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGhhbmRsZUFuY2hvckNsaWNrKTtcbiAgc2Nyb2xsUHJvZ3JhbUxpbmtCYW5uZXIuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBoYW5kbGVBbmNob3JDbGljayk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gaW5pdFByZXZpZXdTd2lwZXIobmFtZSkge1xuICAgIHJldHVybiBuZXcgU3dpcGVyKG5hbWUsIHtcbiAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgbmV4dEVsOiAnLnNwbGl0LXNsaWRlcl9fbmV4dCcsXG4gICAgICAgIHByZXZFbDogJy5zcGxpdC1zbGlkZXJfX3ByZXYnLFxuICAgICAgfSxcbiAgICAgIGZyZWVNb2RlOiB0cnVlLFxuICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgIH0pO1xuICB9XG5cbiAgdmFyIHNscGxpdFNsaWRlciA9IGluaXRQcmV2aWV3U3dpcGVyKCcuc3BsaXQtc2xpZGVyX19jb250YWluZXInKTtcbn0pKCk7XG4iXX0=
