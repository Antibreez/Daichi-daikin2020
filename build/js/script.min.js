!function(){function e(){return new Swiper(".aircleaner__container",{freeMode:!0,slidesPerView:"auto"})}var t={},n=function(){return window.matchMedia("(max-width: 1023px)").matches},s=!n();n()&&(t=e()),window.addEventListener("resize",(function(){s&&n()&&(t=e(),s=!1),s||n()||(t.destroy(!0,!0),s=!0)}))}(),gsap.timeline().from(".page-header__title div span",1.8,{y:110,ease:"power4.out",delay:1,skewY:7,stagger:{amount:.3}}).to(".page-header__overlay-item",1.6,{height:0,ease:"expo.inOut",stagger:.4}).to(".page-header__overlay",0,{display:"none"}).to(".banner__overlay-item",1.6,{width:0,ease:"expo.inOut",delay:-.8,stagger:{amount:.4}}).to(".banner__overlay",0,{display:"none"}).from(".banner__item-image-box",1.6,{scale:1.4,ease:"expo.inOut",delay:-2,stagger:{amount:.4}}),function(){var e={};function t(){return new Swiper(".banner__container",{freeMode:!0,slidesPerView:"auto",navigation:{nextEl:".banner__next",prevEl:".banner__prev"}})}function n(){return new Swiper(".banner__container",{navigation:{nextEl:".banner__next",prevEl:".banner__prev"}})}var s=function(){return window.matchMedia("(min-width: 1024px)").matches},i=function(){return window.matchMedia("(min-width: 768px)").matches&&window.matchMedia("(max-width: 1023px)").matches},o=function(){return window.matchMedia("(max-width: 767px)").matches},r=!i(),c=!o(),a=!s(),l=s();i()&&(e=t()),o()&&(e=n()),window.addEventListener("resize",(function(){a&&s()&&(a=!1),a||s()||(a=!0),r&&i()&&(r=!1,l?l=!1:e.destroy(!0,!0),e=t()),r||i()||(r=!0,e.destroy(!0,!0)),c&&o()&&(c=!1,e=n()),c||o()||(c=!0)}))}(),function(){var e=document.querySelector(".page-header__nav-button"),t=document.querySelector(".mobile-nav__underlayer"),n=document.querySelector(".mobile-nav"),s=document.querySelector("body");e.addEventListener("click",(function(){n.classList.add("js--show"),s.classList.add("popup")})),t.addEventListener("click",(function(){n.classList.remove("js--show"),s.classList.remove("popup")}))}(),function(){var e=document.querySelector(".main-nav__item-name--products"),t=document.querySelector(".main-nav__item-name--programs"),n=document.querySelector(".main-nav__subnav-list--products"),s=document.querySelector(".main-nav__subnav-list--programs");e.addEventListener("click",(function(){var s="visible"===window.getComputedStyle(n).visibility;s||e.classList.contains("js--show")||(e.classList.add("js--show"),t.classList.contains("js--show")&&t.classList.remove("js--show")),s&&e.classList.contains("js--show")&&e.classList.remove("js--show")})),t.addEventListener("click",(function(){var n="visible"===window.getComputedStyle(s).visibility;n||t.classList.contains("js--show")||(t.classList.add("js--show"),e.classList.contains("js--show")&&e.classList.remove("js--show")),n&&t.classList.contains("js--show")&&t.classList.remove("js--show")})),window.addEventListener("resize",(function(){e.classList.contains("js--show")&&e.classList.remove("js--show"),t.classList.contains("js--show")&&t.classList.remove("js--show")})),document.addEventListener("click",(function(n){var s=n.target;s.classList.contains("main-nav__item-name")||s.classList.contains("main-nav__subnav-list")||s.classList.contains("main-nav__subnav-item")||s.classList.contains("main-nav__subnav-link")||(e.classList.contains("js--show")&&e.classList.remove("js--show"),t.classList.contains("js--show")&&t.classList.remove("js--show"))}))}(),function(){var e=document.querySelector(".mobile-nav"),t=document.querySelector("body");let n=document.querySelector(".js-scroll-split"),s=document.querySelector(".js-scroll-mult"),i=document.querySelector(".js-scroll-aircleaner"),o=document.querySelector(".js-scroll-my-comfort"),r=document.querySelector(".js-scroll-climat-online"),c=document.querySelector(".js-scroll-mobile-control"),a=document.querySelector(".js-scroll-split-mobile"),l=document.querySelector(".js-scroll-mult-mobile"),d=document.querySelector(".js-scroll-aircleaner-mobile"),u=document.querySelector(".js-scroll-my-comfort-mobile"),m=document.querySelector(".js-scroll-climat-online-mobile"),v=document.querySelector(".js-scroll-mobile-control-mobile"),w=document.querySelector(".js-scroll-split-banner"),L=document.querySelector(".js-scroll-mult-banner"),h=document.querySelector(".js-scroll-aircleaner-banner"),_=document.querySelector(".js-scroll-program-banner"),p=function(){event.preventDefault();let e=event.currentTarget.getAttribute("href"),t=e.substring(1,e.length);document.getElementById(t).scrollIntoView({block:"start",behavior:"smooth"})},y=function(){event.preventDefault(),e.classList.remove("js--show"),t.classList.remove("popup");let n=event.currentTarget.getAttribute("href"),s=n.substring(1,n.length),i=document.getElementById(s);setTimeout((function(){i.scrollIntoView({block:"start",behavior:"smooth"})}),300)};n.addEventListener("click",p),s.addEventListener("click",p),i.addEventListener("click",p),o.addEventListener("click",p),r.addEventListener("click",p),c.addEventListener("click",p),a.addEventListener("click",y),l.addEventListener("click",y),d.addEventListener("click",y),u.addEventListener("click",y),m.addEventListener("click",y),v.addEventListener("click",y),w.addEventListener("click",p),L.addEventListener("click",p),h.addEventListener("click",p),_.addEventListener("click",p)}(),new Swiper(".split-slider__container",{navigation:{nextEl:".split-slider__next",prevEl:".split-slider__prev"},freeMode:!0,slidesPerView:"auto"});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFpcmNsZWFuZXItc2xpZGVyLmpzIiwiYW5pbWF0aW9uLmpzIiwiYmFubmVyLmpzIiwibW9iaWxlLW5hdi5qcyIsIm5hdmlnYXRpb24uanMiLCJzY3JvbGwuanMiLCJzcGxpdC1zbGlkZXIuanMiXSwibmFtZXMiOlsiaW5pdFByZXZpZXdTd2lwZXIiLCJTd2lwZXIiLCJmcmVlTW9kZSIsInNsaWRlc1BlclZpZXciLCJzbGlkZXIiLCJpc1RhYmxldCIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwiaXNPdXRPZlRhYmxldCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZXN0cm95IiwiZ3NhcCIsInRpbWVsaW5lIiwiZnJvbSIsInkiLCJlYXNlIiwiZGVsYXkiLCJza2V3WSIsInN0YWdnZXIiLCJhbW91bnQiLCJ0byIsImhlaWdodCIsImRpc3BsYXkiLCJ3aWR0aCIsInNjYWxlIiwiaW5pdEZyZWVTd2lwZXIiLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwiaW5pdFNpbmdsZVN3aXBlciIsImlzRGVza3RvcCIsImlzTW9iaWxlIiwiaXNPdXRPZk1vYmlsZSIsImlzT3V0T2ZEZXNrdG9wIiwiaXNUb1RhYmxldEZyb21EZXNrdG9wIiwibmF2QnV0dG9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidW5kZXJsYXllciIsIm5hdiIsImJvZHkiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJuYXZJdGVtUHJvZHVjdHMiLCJuYXZJdGVtUHJvZ3JhbXMiLCJwcm9kdWN0cyIsInByb2dyYW1zIiwiaXNOYXZWaXNpYmxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInZpc2liaWxpdHkiLCJjb250YWlucyIsImV2dCIsInRhcmdldCIsInNjcm9sbFNwbGl0TGluayIsInNjcm9sbE11bHRMaW5rIiwic2Nyb2xsQWlyY2xlYW5lckxpbmsiLCJzY3JvbGxNeUNvbWZvcnRMaW5rIiwic2Nyb2xsQ2xpbWF0T25saW5lTGluayIsInNjcm9sbE1vYmlsZUNvbnRyb2xMaW5rIiwic2Nyb2xsU3BsaXRMaW5rTW9iaWxlIiwic2Nyb2xsTXVsdExpbmtNb2JpbGUiLCJzY3JvbGxBaXJjbGVhbmVyTGlua01vYmlsZSIsInNjcm9sbE15Q29tZm9ydExpbmtNb2JpbGUiLCJzY3JvbGxDbGltYXRPbmxpbmVMaW5rTW9iaWxlIiwic2Nyb2xsTW9iaWxlQ29udHJvbExpbmtNb2JpbGUiLCJzY3JvbGxTcGxpdExpbmtCYW5uZXIiLCJzY3JvbGxNdWx0TGlua0Jhbm5lciIsInNjcm9sbEFpcmNsZWFuZXJMaW5rQmFubmVyIiwic2Nyb2xsUHJvZ3JhbUxpbmtCYW5uZXIiLCJoYW5kbGVBbmNob3JDbGljayIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJsaW5rVGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImdldEF0dHJpYnV0ZSIsImlkIiwic3Vic3RyaW5nIiwibGVuZ3RoIiwiZ2V0RWxlbWVudEJ5SWQiLCJzY3JvbGxJbnRvVmlldyIsImJsb2NrIiwiYmVoYXZpb3IiLCJoYW5kbGVBbmNob3JDbGlja01vYmlsZSIsImFpbSIsInNldFRpbWVvdXQiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsU0FBQUEsSUFDQSxPQUFBLElBQUFDLE9BQUEseUJBQUEsQ0FDQUMsVUFBQSxFQUNBQyxjQUFBLFNBSUEsSUFBQUMsRUFBQSxHQUVBQyxFQUFBLFdBQ0EsT0FBQUMsT0FBQUMsV0FBQSx1QkFBQUMsU0FHQUMsR0FBQUosSUFjQUEsTUFDQUQsRUFBQUosS0FHQU0sT0FBQUksaUJBQUEsVUFoQkEsV0FDQUQsR0FBQUosTUFDQUQsRUFBQUosSUFDQVMsR0FBQSxHQUdBQSxHQUFBSixNQUNBRCxFQUFBTyxTQUFBLEdBQUEsR0FDQUYsR0FBQSxNQXhCQSxHQ0NBRyxLQUFBQyxXQUVBQyxLQUFBLCtCQUFBLElBQUEsQ0FDQUMsRUFBQSxJQUNBQyxLQUFBLGFBQ0FDLE1BQUEsRUFDQUMsTUFBQSxFQUNBQyxRQUFBLENBQ0FDLE9BQUEsTUFHQUMsR0FBQSw2QkFBQSxJQUFBLENBQ0FDLE9BQUEs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QUgsR0FDQUksZUFBQSxDQUFBQyxNQUFBLFFBQUFDLFNBQUEsWUFHQUMsRUFBQSxXQUNBWixNQUFBQyxpQkFFQWpDLEVBQUFFLFVBQUFFLE9BQUEsWUFDQUgsRUFBQUMsVUFBQUUsT0FBQSxTQUVBLElBQUE4QixFQUFBRixNQUFBRyxjQUFBQyxhQUFBLFFBQ0FDLEVBQUFILEVBQUFJLFVBQUEsRUFBQUosRUFBQUssUUFDQU0sRUFBQWhELFNBQUEyQyxlQUFBSCxHQUdBUyxZQUFBLFdBQ0FELEVBQUFKLGVBQUEsQ0FBQUMsTUFBQSxRQUFBQyxTQUFBLGFBQ0EsTUFHQTVCLEVBQUE3QyxpQkFBQSxRQUFBNkQsR0FDQWYsRUFBQTlDLGlCQUFBLFFBQUE2RCxHQUNBZCxFQUFBL0MsaUJBQUEsUUFBQTZELEdBQ0FiLEVBQUFoRCxpQkFBQSxRQUFBNkQsR0FDQVosRUFBQWpELGlCQUFBLFFBQUE2RCxHQUNBWCxFQUFBbEQsaUJBQUEsUUFBQTZELEdBRUFWLEVBQUFuRCxpQkFBQSxRQUFBMEUsR0FDQXRCLEVBQUFwRCxpQkFBQSxRQUFBMEUsR0FDQXJCLEVBQUFyRCxpQkFBQSxRQUFBMEUsR0FDQXBCLEVBQUF0RCxpQkFBQSxRQUFBMEUsR0FDQW5CLEVBQUF2RCxpQkFBQSxRQUFBMEUsR0FDQWxCLEVBQUF4RCxpQkFBQSxRQUFBMEUsR0FFQWpCLEVBQUF6RCxpQkFBQSxRQUFBNkQsR0FDQUgsRUFBQTFELGlCQUFBLFFBQUE2RCxHQUNBRixFQUFBM0QsaUJBQUEsUUFBQTZELEdBQ0FELEVBQUE1RCxpQkFBQSxRQUFBNkQsR0FoRUEsR0NFQSxJQUFBdEUsT0FVQSwyQkFWQSxDQUNBMEIsV0FBQSxDQUNBQyxPQUFBLHNCQUNBQyxPQUFBLHVCQUVBM0IsVUFBQSxFQUNBQyxjQUFBIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBpbml0UHJldmlld1N3aXBlcigpIHtcbiAgICByZXR1cm4gbmV3IFN3aXBlcignLmFpcmNsZWFuZXJfX2NvbnRhaW5lcicsIHtcbiAgICAgIGZyZWVNb2RlOiB0cnVlLFxuICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgIH0pO1xuICB9XG5cbiAgdmFyIHNsaWRlciA9IHt9O1xuXG4gIHZhciBpc1RhYmxldCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiAxMDIzcHgpXCIpLm1hdGNoZXM7XG4gIH07XG5cbiAgdmFyIGlzT3V0T2ZUYWJsZXQgPSAhaXNUYWJsZXQoKTtcblxuICB2YXIgb25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGlzT3V0T2ZUYWJsZXQgJiYgaXNUYWJsZXQoKSkge1xuICAgICAgc2xpZGVyID0gaW5pdFByZXZpZXdTd2lwZXIoKTtcbiAgICAgIGlzT3V0T2ZUYWJsZXQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIWlzT3V0T2ZUYWJsZXQgJiYgIWlzVGFibGV0KCkpIHtcbiAgICAgIHNsaWRlci5kZXN0cm95KHRydWUsIHRydWUpO1xuICAgICAgaXNPdXRPZlRhYmxldCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG4gIGlmIChpc1RhYmxldCgpKSB7XG4gICAgc2xpZGVyID0gaW5pdFByZXZpZXdTd2lwZXIoKTtcbiAgfVxuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblJlc2l6ZSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRsID0gZ3NhcC50aW1lbGluZSgpO1xuXG4gIHRsLmZyb20oXCIucGFnZS1oZWFkZXJfX3RpdGxlIGRpdiBzcGFuXCIsIDEuOCwge1xuICAgIHk6IDExMCxcbiAgICBlYXNlOiBcInBvd2VyNC5vdXRcIixcbiAgICBkZWxheTogMSxcbiAgICBza2V3WTogNyxcbiAgICBzdGFnZ2VyOiB7XG4gICAgICBhbW91bnQ6IDAuM1xuICAgIH1cbiAgfSlcbiAgICAudG8oXCIucGFnZS1oZWFkZXJfX292ZXJsYXktaXRlbVwiLCAxLjYsIHtcbiAgICAgIGhlaWdodDogMCxcbiAgICAgIGVhc2U6IFwiZXhwby5pbk91dFwiLFxuICAgICAgc3RhZ2dlcjogMC40XG4gICAgfSlcbiAgICAudG8oXCIucGFnZS1oZWFkZXJfX292ZXJsYXlcIiwgMCwge1xuICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICB9KVxuICAgIC50byhcIi5iYW5uZXJfX292ZXJsYXktaXRlbVwiLCAxLjYsIHtcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgZWFzZTogXCJleHBvLmluT3V0XCIsXG4gICAgICBkZWxheTogLTAuOCxcbiAgICAgIHN0YWdnZXI6IHtcbiAgICAgICAgYW1vdW50OiAwLjRcbiAgICAgIH1cbiAgICB9KVxuICAgIC50byhcIi5iYW5uZXJfX292ZXJsYXlcIiwgMCwge1xuICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICB9KVxuICAgIC5mcm9tKFwiLmJhbm5lcl9faXRlbS1pbWFnZS1ib3hcIiwgMS42LCB7XG4gICAgICBzY2FsZTogMS40LFxuICAgICAgZWFzZTogXCJleHBvLmluT3V0XCIsXG4gICAgICBkZWxheTogLTIsXG4gICAgICBzdGFnZ2VyOiB7XG4gICAgICAgIGFtb3VudDogMC40XG4gICAgICB9XG4gICAgfSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICB2YXIgc2xpZGVyID0ge307XG5cbiAgZnVuY3Rpb24gaW5pdEZyZWVTd2lwZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBTd2lwZXIoJy5iYW5uZXJfX2NvbnRhaW5lcicsIHtcbiAgICAgIGZyZWVNb2RlOiB0cnVlLFxuICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICBuZXh0RWw6ICcuYmFubmVyX19uZXh0JyxcbiAgICAgICAgcHJldkVsOiAnLmJhbm5lcl9fcHJldicsXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0U2luZ2xlU3dpcGVyKCkge1xuICAgIHJldHVybiBuZXcgU3dpcGVyKCcuYmFubmVyX19jb250YWluZXInLCB7XG4gICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgIG5leHRFbDogJy5iYW5uZXJfX25leHQnLFxuICAgICAgICBwcmV2RWw6ICcuYmFubmVyX19wcmV2JyxcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciBpc0Rlc2t0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1pbi13aWR0aDogMTAyNHB4KVwiKS5tYXRjaGVzO1xuICB9O1xuXG4gIHZhciBpc1RhYmxldCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiA3NjhweClcIikubWF0Y2hlc1xuICAgICAgJiYgd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiAxMDIzcHgpXCIpLm1hdGNoZXM7XG4gIH07XG5cbiAgdmFyIGlzTW9iaWxlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDc2N3B4KVwiKS5tYXRjaGVzO1xuICB9O1xuXG4gIHZhciBpc091dE9mVGFibGV0ID0gIWlzVGFibGV0KCk7XG4gIHZhciBpc091dE9mTW9iaWxlID0gIWlzTW9iaWxlKCk7XG4gIHZhciBpc091dE9mRGVza3RvcCA9ICFpc0Rlc2t0b3AoKTtcbiAgdmFyIGlzVG9UYWJsZXRGcm9tRGVza3RvcCA9IGlzRGVza3RvcCgpO1xuXG4gIC8vdmFyIHNsaWRlciA9IGlzVGFibGV0KClcbiAgICAvLyA/IGluaXRGcmVlU3dpcGVyKClcbiAgICAvLyA6IGluaXRTaW5nbGVTd2lwZXIoKTtcblxuXG4gIHZhciBvblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaXNPdXRPZkRlc2t0b3AgJiYgaXNEZXNrdG9wKCkpIHtcbiAgICAgIGlzT3V0T2ZEZXNrdG9wID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFpc091dE9mRGVza3RvcCAmJiAhaXNEZXNrdG9wKCkpIHtcbiAgICAgIGlzT3V0T2ZEZXNrdG9wID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoaXNPdXRPZlRhYmxldCAmJiBpc1RhYmxldCgpKSB7XG4gICAgICAvL3NsaWRlci5kZXN0cm95KHRydWUsIHRydWUpO1xuICAgICAgLy9zbGlkZXIgPSBpbml0RnJlZVN3aXBlcigpO1xuICAgICAgaXNPdXRPZlRhYmxldCA9IGZhbHNlO1xuICAgICAgaWYgKCFpc1RvVGFibGV0RnJvbURlc2t0b3ApIHtcbiAgICAgICAgc2xpZGVyLmRlc3Ryb3kodHJ1ZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpc1RvVGFibGV0RnJvbURlc2t0b3AgPSBmYWxzZTtcbiAgICAgIH1cblxuXG4gICAgICAvL3NsaWRlci5kZXN0cm95KHRydWUsIHRydWUpO1xuICAgICAgc2xpZGVyID0gaW5pdEZyZWVTd2lwZXIoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzT3V0T2ZUYWJsZXQgJiYgIWlzVGFibGV0KCkpIHtcbiAgICAgIC8vc2xpZGVyLmRlc3Ryb3kodHJ1ZSwgdHJ1ZSk7XG4gICAgICAvL3NsaWRlciA9IGluaXRTaW5nbGVTd2lwZXIoKTtcbiAgICAgIGlzT3V0T2ZUYWJsZXQgPSB0cnVlO1xuICAgICAgc2xpZGVyLmRlc3Ryb3kodHJ1ZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKGlzT3V0T2ZNb2JpbGUgJiYgaXNNb2JpbGUoKSkge1xuICAgICAgLy9zbGlkZXIuZGVzdHJveSh0cnVlLCB0cnVlKTtcbiAgICAgIC8vc2xpZGVyID0gaW5pdEZyZWVTd2lwZXIoKTtcbiAgICAgIGlzT3V0T2ZNb2JpbGUgPSBmYWxzZTtcbiAgICAgIHNsaWRlciA9IGluaXRTaW5nbGVTd2lwZXIoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzT3V0T2ZNb2JpbGUgJiYgIWlzTW9iaWxlKCkpIHtcbiAgICAgIC8vc2xpZGVyLmRlc3Ryb3kodHJ1ZSwgdHJ1ZSk7XG4gICAgICAvL3NsaWRlciA9IGluaXRTaW5nbGVTd2lwZXIoKTtcbiAgICAgIGlzT3V0T2ZNb2JpbGUgPSB0cnVlO1xuICAgICAgLy9zbGlkZXIuZGVzdHJveSh0cnVlLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBpZiAoaXNUYWJsZXQoKSkge1xuICAgIHNsaWRlciA9IGluaXRGcmVlU3dpcGVyKCk7XG4gIH1cblxuICBpZiAoaXNNb2JpbGUoKSkge1xuICAgIHNsaWRlciA9IGluaXRTaW5nbGVTd2lwZXIoKTtcbiAgfVxuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblJlc2l6ZSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgdmFyIG5hdkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlLWhlYWRlcl9fbmF2LWJ1dHRvbicpO1xuICB2YXIgdW5kZXJsYXllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGUtbmF2X191bmRlcmxheWVyJyk7XG4gIHZhciBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlLW5hdicpO1xuICB2YXIgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcblxuICB2YXIgc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICBuYXYuY2xhc3NMaXN0LmFkZCgnanMtLXNob3cnKTtcbiAgICBib2R5LmNsYXNzTGlzdC5hZGQoJ3BvcHVwJyk7XG4gIH07XG5cbiAgdmFyIGhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoJ2pzLS1zaG93Jyk7XG4gICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cCcpO1xuICB9XG5cbiAgdmFyIG9uQnV0dG9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2hvdygpO1xuICB9XG5cbiAgdmFyIG9uVW5kZXJsYXllckNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgIGhpZGUoKTtcbiAgfVxuXG4gIG5hdkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQnV0dG9uQ2xpY2spO1xuICB1bmRlcmxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25VbmRlcmxheWVyQ2xpY2spO1xufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gIHZhciBuYXZJdGVtUHJvZHVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1uYXZfX2l0ZW0tbmFtZS0tcHJvZHVjdHMnKTtcbiAgdmFyIG5hdkl0ZW1Qcm9ncmFtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLW5hdl9faXRlbS1uYW1lLS1wcm9ncmFtcycpO1xuICB2YXIgcHJvZHVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1uYXZfX3N1Ym5hdi1saXN0LS1wcm9kdWN0cycpO1xuICB2YXIgcHJvZ3JhbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1uYXZfX3N1Ym5hdi1saXN0LS1wcm9ncmFtcycpO1xuXG4gIHZhciBvblByb2R1Y3RzQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGlzTmF2VmlzaWJsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHByb2R1Y3RzKS52aXNpYmlsaXR5ID09PSAndmlzaWJsZSc7XG5cbiAgICBpZiAoIWlzTmF2VmlzaWJsZSAmJiAhbmF2SXRlbVByb2R1Y3RzLmNsYXNzTGlzdC5jb250YWlucygnanMtLXNob3cnKSkge1xuICAgICAgbmF2SXRlbVByb2R1Y3RzLmNsYXNzTGlzdC5hZGQoJ2pzLS1zaG93Jyk7XG5cbiAgICAgIGlmIChuYXZJdGVtUHJvZ3JhbXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy0tc2hvdycpKSB7XG4gICAgICAgIG5hdkl0ZW1Qcm9ncmFtcy5jbGFzc0xpc3QucmVtb3ZlKCdqcy0tc2hvdycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc05hdlZpc2libGUgJiYgbmF2SXRlbVByb2R1Y3RzLmNsYXNzTGlzdC5jb250YWlucygnanMtLXNob3cnKSkge1xuICAgICAgbmF2SXRlbVByb2R1Y3RzLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLS1zaG93Jyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIG9uUHJvZ3JhbXNDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaXNOYXZWaXNpYmxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUocHJvZ3JhbXMpLnZpc2liaWxpdHkgPT09ICd2aXNpYmxlJztcblxuICAgIGlmICghaXNOYXZWaXNpYmxlICYmICFuYXZJdGVtUHJvZ3JhbXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy0tc2hvdycpKSB7XG4gICAgICBuYXZJdGVtUHJvZ3JhbXMuY2xhc3NMaXN0LmFkZCgnanMtLXNob3cnKTtcblxuICAgICAgaWYgKG5hdkl0ZW1Qcm9kdWN0cy5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLS1zaG93JykpIHtcbiAgICAgICAgbmF2SXRlbVByb2R1Y3RzLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLS1zaG93Jyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzTmF2VmlzaWJsZSAmJiBuYXZJdGVtUHJvZ3JhbXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy0tc2hvdycpKSB7XG4gICAgICBuYXZJdGVtUHJvZ3JhbXMuY2xhc3NMaXN0LnJlbW92ZSgnanMtLXNob3cnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgb25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKG5hdkl0ZW1Qcm9kdWN0cy5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLS1zaG93JykpIHtcbiAgICAgIG5hdkl0ZW1Qcm9kdWN0cy5jbGFzc0xpc3QucmVtb3ZlKCdqcy0tc2hvdycpO1xuICAgIH1cblxuICAgIGlmIChuYXZJdGVtUHJvZ3JhbXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy0tc2hvdycpKSB7XG4gICAgICBuYXZJdGVtUHJvZ3JhbXMuY2xhc3NMaXN0LnJlbW92ZSgnanMtLXNob3cnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgb25PdXRzaWRlQ2xpY2sgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdmFyIHRhcmdldCA9IGV2dC50YXJnZXQ7XG5cbiAgICBpZiAoXG4gICAgICAhdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbWFpbi1uYXZfX2l0ZW0tbmFtZScpXG4gICAgICAmJiAhdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbWFpbi1uYXZfX3N1Ym5hdi1saXN0JylcbiAgICAgICYmICF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYWluLW5hdl9fc3VibmF2LWl0ZW0nKVxuICAgICAgJiYgIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21haW4tbmF2X19zdWJuYXYtbGluaycpXG4gICAgKSB7XG4gICAgICBpZiAobmF2SXRlbVByb2R1Y3RzLmNsYXNzTGlzdC5jb250YWlucygnanMtLXNob3cnKSkge1xuICAgICAgICBuYXZJdGVtUHJvZHVjdHMuY2xhc3NMaXN0LnJlbW92ZSgnanMtLXNob3cnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5hdkl0ZW1Qcm9ncmFtcy5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLS1zaG93JykpIHtcbiAgICAgICAgbmF2SXRlbVByb2dyYW1zLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLS1zaG93Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbmF2SXRlbVByb2R1Y3RzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25Qcm9kdWN0c0NsaWNrKTtcbiAgbmF2SXRlbVByb2dyYW1zLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25Qcm9ncmFtc0NsaWNrKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uUmVzaXplKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbk91dHNpZGVDbGljayk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgdmFyIG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGUtbmF2Jyk7XG4gIHZhciBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuXG4gIGxldCBzY3JvbGxTcGxpdExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLXNwbGl0YCk7XG4gIGxldCBzY3JvbGxNdWx0TGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qcy1zY3JvbGwtbXVsdGApO1xuICBsZXQgc2Nyb2xsQWlyY2xlYW5lckxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLWFpcmNsZWFuZXJgKTtcbiAgbGV0IHNjcm9sbE15Q29tZm9ydExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLW15LWNvbWZvcnRgKTtcbiAgbGV0IHNjcm9sbENsaW1hdE9ubGluZUxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLWNsaW1hdC1vbmxpbmVgKTtcbiAgbGV0IHNjcm9sbE1vYmlsZUNvbnRyb2xMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzLXNjcm9sbC1tb2JpbGUtY29udHJvbGApO1xuXG4gIGxldCBzY3JvbGxTcGxpdExpbmtNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLXNwbGl0LW1vYmlsZWApO1xuICBsZXQgc2Nyb2xsTXVsdExpbmtNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLW11bHQtbW9iaWxlYCk7XG4gIGxldCBzY3JvbGxBaXJjbGVhbmVyTGlua01vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qcy1zY3JvbGwtYWlyY2xlYW5lci1tb2JpbGVgKTtcbiAgbGV0IHNjcm9sbE15Q29tZm9ydExpbmtNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLW15LWNvbWZvcnQtbW9iaWxlYCk7XG4gIGxldCBzY3JvbGxDbGltYXRPbmxpbmVMaW5rTW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzLXNjcm9sbC1jbGltYXQtb25saW5lLW1vYmlsZWApO1xuICBsZXQgc2Nyb2xsTW9iaWxlQ29udHJvbExpbmtNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLW1vYmlsZS1jb250cm9sLW1vYmlsZWApO1xuXG4gIGxldCBzY3JvbGxTcGxpdExpbmtCYW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLXNwbGl0LWJhbm5lcmApO1xuICBsZXQgc2Nyb2xsTXVsdExpbmtCYW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuanMtc2Nyb2xsLW11bHQtYmFubmVyYCk7XG4gIGxldCBzY3JvbGxBaXJjbGVhbmVyTGlua0Jhbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qcy1zY3JvbGwtYWlyY2xlYW5lci1iYW5uZXJgKTtcbiAgbGV0IHNjcm9sbFByb2dyYW1MaW5rQmFubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmpzLXNjcm9sbC1wcm9ncmFtLWJhbm5lcmApO1xuXG4gIGxldCBoYW5kbGVBbmNob3JDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGxldCBsaW5rVGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoYGhyZWZgKTtcbiAgICBsZXQgaWQgPSBsaW5rVGFyZ2V0LnN1YnN0cmluZygxLCBsaW5rVGFyZ2V0Lmxlbmd0aCk7XG4gICAgbGV0IGFpbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICBhaW0uc2Nyb2xsSW50b1ZpZXcoe2Jsb2NrOiBgc3RhcnRgLCBiZWhhdmlvcjogYHNtb290aGB9KTtcbiAgfTtcblxuICBsZXQgaGFuZGxlQW5jaG9yQ2xpY2tNb2JpbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIG5hdi5jbGFzc0xpc3QucmVtb3ZlKCdqcy0tc2hvdycpO1xuICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXAnKTtcblxuICAgIGxldCBsaW5rVGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoYGhyZWZgKTtcbiAgICBsZXQgaWQgPSBsaW5rVGFyZ2V0LnN1YnN0cmluZygxLCBsaW5rVGFyZ2V0Lmxlbmd0aCk7XG4gICAgbGV0IGFpbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAvL2FpbS5zY3JvbGxJbnRvVmlldyh7YmxvY2s6IGBzdGFydGAsIGJlaGF2aW9yOiBgc21vb3RoYH0pO1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBhaW0uc2Nyb2xsSW50b1ZpZXcoe2Jsb2NrOiBgc3RhcnRgLCBiZWhhdmlvcjogYHNtb290aGB9KVxuICAgIH0sIDMwMCk7XG4gIH07XG5cbiAgc2Nyb2xsU3BsaXRMaW5rLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgaGFuZGxlQW5jaG9yQ2xpY2spO1xuICBzY3JvbGxNdWx0TGluay5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGhhbmRsZUFuY2hvckNsaWNrKTtcbiAgc2Nyb2xsQWlyY2xlYW5lckxpbmsuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBoYW5kbGVBbmNob3JDbGljayk7XG4gIHNjcm9sbE15Q29tZm9ydExpbmsuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBoYW5kbGVBbmNob3JDbGljayk7XG4gIHNjcm9sbENsaW1hdE9ubGluZUxpbmsuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBoYW5kbGVBbmNob3JDbGljayk7XG4gIHNjcm9sbE1vYmlsZUNvbnRyb2xMaW5rLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgaGFuZGxlQW5jaG9yQ2xpY2spO1xuXG4gIHNjcm9sbFNwbGl0TGlua01vYmlsZS5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGhhbmRsZUFuY2hvckNsaWNrTW9iaWxlKTtcbiAgc2Nyb2xsTXVsdExpbmtNb2JpbGUuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBoYW5kbGVBbmNob3JDbGlja01vYmlsZSk7XG4gIHNjcm9sbEFpcmNsZWFuZXJMaW5rTW9iaWxlLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgaGFuZGxlQW5jaG9yQ2xpY2tNb2JpbGUpO1xuICBzY3JvbGxNeUNvbWZvcnRMaW5rTW9iaWxlLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgaGFuZGxlQW5jaG9yQ2xpY2tNb2JpbGUpO1xuICBzY3JvbGxDbGltYXRPbmxpbmVMaW5rTW9iaWxlLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgaGFuZGxlQW5jaG9yQ2xpY2tNb2JpbGUpO1xuICBzY3JvbGxNb2JpbGVDb250cm9sTGlua01vYmlsZS5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGhhbmRsZUFuY2hvckNsaWNrTW9iaWxlKTtcblxuICBzY3JvbGxTcGxpdExpbmtCYW5uZXIuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBoYW5kbGVBbmNob3JDbGljayk7XG4gIHNjcm9sbE11bHRMaW5rQmFubmVyLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgaGFuZGxlQW5jaG9yQ2xpY2spO1xuICBzY3JvbGxBaXJjbGVhbmVyTGlua0Jhbm5lci5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGhhbmRsZUFuY2hvckNsaWNrKTtcbiAgc2Nyb2xsUHJvZ3JhbUxpbmtCYW5uZXIuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBoYW5kbGVBbmNob3JDbGljayk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gaW5pdFByZXZpZXdTd2lwZXIobmFtZSkge1xuICAgIHJldHVybiBuZXcgU3dpcGVyKG5hbWUsIHtcbiAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgbmV4dEVsOiAnLnNwbGl0LXNsaWRlcl9fbmV4dCcsXG4gICAgICAgIHByZXZFbDogJy5zcGxpdC1zbGlkZXJfX3ByZXYnLFxuICAgICAgfSxcbiAgICAgIGZyZWVNb2RlOiB0cnVlLFxuICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgIH0pO1xuICB9XG5cbiAgdmFyIHNscGxpdFNsaWRlciA9IGluaXRQcmV2aWV3U3dpcGVyKCcuc3BsaXQtc2xpZGVyX19jb250YWluZXInKTtcbn0pKCk7XG4iXX0=
